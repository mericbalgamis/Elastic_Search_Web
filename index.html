<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Query</title>
    <link rel="stylesheet" href="style.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>

<body>
<div class="first-box">
    <textarea id = "inp" name="inp" ></textarea>
</div>

<div class="btn">
    <button onclick=httpGet("http://127.0.0.1:5000/query")>Run Query</button>
    <script type="text/javascript">
                    function GetAndPostValue()
                    {
                        var str = document.getElementById("inp").value;
                        document.getElementById("out").value=str;
                    }
            </script>


    <script type="text/javascript" >
            function httpGet(theUrl)
            {


                var str = document.getElementById("inp").value;
                var data = JSON.parse(str);

                $.ajax({
                        url: theUrl,
                        type: 'POST',
                        data: JSON.stringify(data),
                        contentType: 'application/json; charset=utf-8',
                        dataType: 'json',
                        async: false,
                        success: function(msg) {
                            console.log(msg);
                            document.getElementById("out").value=JSON.stringify(msg['hits']['hits'],null,2);
                        }
                });

            }
        </script>

</div>

<div class="second-box">
    <textarea id= "out" name="out" ></textarea>
</div>

</body>


